<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.cqut.czb.bn.dao.mapper.wCardAndPICCode.WCardAndPICCodeMapper" >
    <resultMap id="BaseResultMap" type="com.cqut.czb.bn.entity.entity.wCardAndPICCode.WCardAndPICCode" >
        <id column="orderId" property="orderId" jdbcType="VARCHAR" />
        <result column="actualPrice" property="actualPrice" jdbcType="DOUBLE" />
        <result column="commodityId" property="commodityId" jdbcType="VARCHAR" />
        <result column="electronicCode" property="electronicCode" jdbcType="VARCHAR" />
        <result column="orderState" property="orderState" jdbcType="VARCHAR" />
        <result column="originalPrice" property="originalPrice" jdbcType="DOUBLE" />
    </resultMap>
    <select id="selectCommodityOrder" parameterType="java.lang.String" resultMap="BaseResultMap">
        SELECT
          czb_wechat_commodity_order.order_id orderId,
          czb_wechat_commodity_order.actual_price actualPrice,
          czb_wechat_commodity_order.commodity_id commodityId,
          czb_wechat_commodity_order.electronic_code electronicCode,
          czb_wechat_commodity_order.order_state orderState,
          czb_wechat_commodity.original_price originalPrice,
          czb_wechat_commodity_order.create_at createAt,
        FROM
          czb_wechat_commodity_order
          LEFT JOIN czb_wechat_commodity ON czb_wechat_commodity.commodity_id = czb_wechat_commodity_order.commodity_id
        WHERE
          czb_wechat_commodity_order.user_id = #{userId, jdbcType = VARCHAR}
        ORDER BY
          czb_wechat_commodity_order.create_at DESC
  </select>
</mapper>
