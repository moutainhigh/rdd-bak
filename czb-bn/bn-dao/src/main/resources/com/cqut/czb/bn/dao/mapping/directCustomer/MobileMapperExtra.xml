<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.cqut.czb.bn.dao.mapper.directCustomer.MobileMapperExtra">
    <insert id="insertPhoneOrder" parameterType="com.cqut.czb.bn.entity.dto.directChargingSystem.DirectChargingOrderDto">
        insert into
            czb_direct_charging_order (order_id,
                                       user_id,
                                       payment_method,
                                       state,
                                       create_at,
                                       update_at,
                                       record_type,
                                       real_price,
                                       recharge_account,
                                       customer_Number
        )
        values (#{orderId,jdbcType=VARCHAR},
                #{userId,jdbcType=VARCHAR},
                #{paymentMethod,jdbcType=INTEGER },
                #{state,jdbcType=INTEGER },
                now(),
                now(),
                #{recordType,jdbcType=INTEGER },
                #{realPrice,jdbcType=DOUBLE},
                #{rechargeAccount,jdbcType=VARCHAR},
                #{customerNumber,jdbcType=VARCHAR}
               )
    </insert>

    <insert id="insertOilOrder" parameterType="com.cqut.czb.bn.entity.dto.directChargingSystem.DirectChargingOrderDto">
        insert into
            czb_direct_charging_order (order_id,
                                       user_id,
                                       payment_method,
                                       state,
                                       create_at,
                                       update_at,
                                       record_type,
                                       real_price,
                                       recharge_account,
                                       cardholder,
                                       customer_Number
        )
        values (#{orderId,jdbcType=VARCHAR},
                #{userId,jdbcType=VARCHAR},
                #{paymentMethod,jdbcType=INTEGER },
                #{state,jdbcType=INTEGER },
                now(),
                now(),
                #{recordType,jdbcType=INTEGER },
                #{realPrice,jdbcType=DOUBLE},
                #{rechargeAccount,jdbcType=VARCHAR},
                #{cardholder,jdbcType=VARCHAR},
                #{customerNumber,jdbcType=VARCHAR}
               )
    </insert>

    <select id="getCustomer" parameterType="com.cqut.czb.bn.entity.dto.directCustomers.DirectCustomersDto" resultType="com.cqut.czb.bn.entity.dto.directCustomers.CustomerManageDto">
        select app_secret appSecret,
               balance,
               consumption_amount consumptionAmount,
               customer_number customerNumber
            from czb_direct_customer
            where app_id = #{appId}
    </select>

</mapper>
